import{d as U,u as B,a as E,c as r,b as t,w as V,e as s,f as R,r as h,h as l,n as m,i as u,t as f,j as c,s as j,k as F,g as T,o as n}from"./index-D8z3C0De.js";import{s as z}from"./overlayeventbus.esm-CbpWPw93.js";import{s as k}from"./inputtext.esm-Fw0-M93T.js";import{s as P}from"./password.esm-6J1zNWQX.js";import{c as A,a as p,b as D,u as O}from"./index.esm-x8Tr7mvq.js";const G={class:"surface-ground flex align-items-center justify-content-center min-h-screen p-4"},H={class:"flex flex-column gap-2"},I={key:0,class:"p-error"},J={class:"flex flex-column gap-2"},K={key:0,class:"p-error"},L={class:"flex flex-column gap-2"},M={key:0,class:"p-error"},Q={class:"flex flex-column gap-2"},W={key:0,class:"p-error"},X={class:"text-center mt-2"},oe=U({__name:"RegisterView",setup(Y){const S=R(),$=B(),b=E(),C=A({full_name:p().required("Ð˜Ð¼Ñ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾").min(2,"ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 2 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°"),email:p().required("Email Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÐµÐ½").email("ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ email"),password:p().required("ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÐµÐ½").min(6,"ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"),confirmPassword:p().required("ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾").oneOf([D("password")],"ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚")}),{errors:a,defineField:i,handleSubmit:q}=O({validationSchema:C}),[w]=i("full_name"),[x]=i("email"),[v]=i("password"),[g]=i("confirmPassword"),_=h(!1),y=q(async d=>{try{_.value=!0,await $.register({full_name:d.full_name,email:d.email,password:d.password}),b.add({severity:"success",summary:"Ð£ÑÐ¿ÐµÑˆÐ½Ð¾",detail:"Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð°",life:3e3}),S.push({name:"dashboard"})}catch(e){b.add({severity:"error",summary:"ÐžÑˆÐ¸Ð±ÐºÐ°",detail:e.response?.data?.detail||"ÐžÑˆÐ¸Ð±ÐºÐ° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸",life:5e3})}finally{_.value=!1}});return(d,e)=>{const N=T("router-link");return n(),r("div",G,[t(s(z),{class:"w-full max-w-25rem"},{title:V(()=>[...e[5]||(e[5]=[l("div",{class:"text-center"},[l("div",{class:"text-3xl font-bold mb-2"},"ðŸ¤– ÐœÐ°Ñ€ÐºÐµÑ‚Ð¾Ð»ÑƒÑ…"),l("div",{class:"text-xl"},"Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ")],-1)])]),content:V(()=>[l("form",{onSubmit:e[4]||(e[4]=(...o)=>s(y)&&s(y)(...o)),class:"flex flex-column gap-3"},[l("div",H,[e[6]||(e[6]=l("label",{for:"full_name"},"ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ð¸Ð¼Ñ",-1)),t(s(k),{id:"full_name",modelValue:s(w),"onUpdate:modelValue":e[0]||(e[0]=o=>u(w)?w.value=o:null),placeholder:"Ð˜Ð²Ð°Ð½ Ð˜Ð²Ð°Ð½Ð¾Ð²",class:m({"p-invalid":s(a).full_name})},null,8,["modelValue","class"]),s(a).full_name?(n(),r("small",I,f(s(a).full_name),1)):c("",!0)]),l("div",J,[e[7]||(e[7]=l("label",{for:"email"},"Email",-1)),t(s(k),{id:"email",modelValue:s(x),"onUpdate:modelValue":e[1]||(e[1]=o=>u(x)?x.value=o:null),type:"email",placeholder:"your@email.com",class:m({"p-invalid":s(a).email})},null,8,["modelValue","class"]),s(a).email?(n(),r("small",K,f(s(a).email),1)):c("",!0)]),l("div",L,[e[8]||(e[8]=l("label",{for:"password"},"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",-1)),t(s(P),{id:"password",modelValue:s(v),"onUpdate:modelValue":e[2]||(e[2]=o=>u(v)?v.value=o:null),placeholder:"ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²","toggle-mask":"",class:m({"p-invalid":s(a).password})},null,8,["modelValue","class"]),s(a).password?(n(),r("small",M,f(s(a).password),1)):c("",!0)]),l("div",Q,[e[9]||(e[9]=l("label",{for:"confirmPassword"},"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",-1)),t(s(P),{id:"confirmPassword",modelValue:s(g),"onUpdate:modelValue":e[3]||(e[3]=o=>u(g)?g.value=o:null),placeholder:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",feedback:!1,"toggle-mask":"",class:m({"p-invalid":s(a).confirmPassword})},null,8,["modelValue","class"]),s(a).confirmPassword?(n(),r("small",W,f(s(a).confirmPassword),1)):c("",!0)]),t(s(j),{type:"submit",label:"Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ",loading:_.value,class:"w-full"},null,8,["loading"]),l("div",X,[e[11]||(e[11]=l("span",{class:"text-600"},"Ð£Ð¶Ðµ ÐµÑÑ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚? ",-1)),t(N,{to:"/login",class:"font-semibold"},{default:V(()=>[...e[10]||(e[10]=[F(" Ð’Ð¾Ð¹Ñ‚Ð¸ ",-1)])]),_:1})])],32)]),_:1})])}}});export{oe as default};
